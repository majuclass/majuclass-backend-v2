{
  "openapi": "3.1.0",
  "info": {
    "title": "발달장애를 위한 서비스",
    "description": "시나리오 기반 학습 시스템 REST API 문서",
    "contact": {
      "name": "SSAFY A202팀"
    },
    "version": "v1.0.0"
  },
  "servers": [
    {
      "url": "http://k13a202.p.ssafy.io:8080/api",
      "description": "Generated server url"
    }
  ],
  "security": [
    {
      "Bearer Authentication": []
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "인증 관련 API"
    },
    {
      "name": "User",
      "description": "사용자 관련 API"
    },
    {
      "name": "Scenario",
      "description": "시나리오 관련 API"
    },
    {
      "name": "Category",
      "description": "카테고리 관련 API"
    },
    {
      "name": "Student",
      "description": "학생 관리 API"
    },
    {
      "name": "ScenarioSession",
      "description": "시나리오 세션 관련 API"
    }
  ],
  "paths": {
    "/users/update": {
      "put": {
        "tags": [
          "User"
        ],
        "summary": "회원 정보 수정",
        "description": "본인의 회원 정보(이름, 이메일, 비밀번호)를 수정합니다.",
        "operationId": "updateUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseUserUpdateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students/update/{studentId}": {
      "put": {
        "tags": [
          "Student"
        ],
        "summary": "학생 정보 수정",
        "description": "학생의 이름 또는 담당 선생님을 수정합니다. 관리자는 자신의 학교 학생을, 일반 선생님은 담당 학생만 수정할 수 있습니다.",
        "operationId": "updateStudent",
        "parameters": [
          {
            "name": "studentId",
            "in": "path",
            "description": "학생 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StudentUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseStudentResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenarios/{scenarioId}/update": {
      "put": {
        "tags": [
          "Scenario"
        ],
        "summary": "시나리오 수정",
        "description": "시나리오의 기본 정보, 이미지, 시퀀스, 옵션을 수정합니다. 시퀀스/옵션 ID가 있으면 수정, 없으면 신규 생성, 요청에 없는 기존 데이터는 삭제됩니다.",
        "operationId": "updateScenario",
        "parameters": [
          {
            "name": "scenarioId",
            "in": "path",
            "description": "시나리오 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScenarioUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseScenarioUpdateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students/create": {
      "post": {
        "tags": [
          "Student"
        ],
        "summary": "학생 추가",
        "description": "새로운 학생을 추가합니다. 학교는 자동으로 본인의 학교로 설정되며, 담당 선생님은 본인으로 설정됩니다.",
        "operationId": "createStudent",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StudentCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseStudentResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenarios/image-upload-url": {
      "post": {
        "tags": [
          "Scenario"
        ],
        "summary": "이미지 업로드 URL 생성",
        "description": "시나리오 이미지 업로드를 위한 Presigned URL을 생성합니다.",
        "operationId": "generateImageUploadUrl",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImageUploadUrlRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseImageUploadUrlResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenarios/create": {
      "post": {
        "tags": [
          "Scenario"
        ],
        "summary": "시나리오 생성",
        "description": "새로운 시나리오를 생성합니다.",
        "operationId": "createScenario",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScenarioCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseScenarioCreateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenario-sessions/submit-answer": {
      "post": {
        "tags": [
          "ScenarioSession"
        ],
        "summary": "답안 제출 및 검증 (난이도 하/중)",
        "description": "사용자가 선택한 답안을 제출하고 정답 여부를 확인합니다.",
        "operationId": "submitAnswer",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AnswerSubmitRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseAnswerCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenario-sessions/start": {
      "post": {
        "tags": [
          "ScenarioSession"
        ],
        "summary": "세션 시작",
        "description": "학생 ID와 시나리오 ID를 받아 새로운 세션을 시작합니다.",
        "operationId": "startSession",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionStartRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseSessionStartResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenario-sessions/complete": {
      "post": {
        "tags": [
          "ScenarioSession"
        ],
        "summary": "세션 완료",
        "description": "진행 중인 세션을 완료 상태로 변경합니다.",
        "operationId": "completeSession",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionCompleteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseSessionCompleteResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenario-sessions/audio-url-by-key": {
      "post": {
        "tags": [
          "ScenarioSession"
        ],
        "summary": "S3 Key로 오디오 조회용 URL 생성",
        "description": "S3 Key를 받아 오디오 파일 조회용 Pre-signed URL을 생성합니다. (FastAPI STT 분석용)",
        "operationId": "generateAudioUrlByKey",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AudioUrlByKeyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseAudioUrlByKeyResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenario-sessions/audio-upload-url": {
      "post": {
        "tags": [
          "ScenarioSession"
        ],
        "summary": "음성 업로드 URL 생성",
        "description": "음성 파일 업로드를 위한 Presigned URL을 생성합니다.",
        "operationId": "generateAudioUploadUrl",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AudioUploadUrlRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseAudioUploadUrlResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/signup": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "회원가입",
        "description": "새로운 사용자를 등록합니다.",
        "operationId": "signup",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseSignupResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "토큰 갱신",
        "description": "리프레시 토큰으로 새로운 액세스 토큰과 리프레시 토큰을 발급합니다.",
        "operationId": "refresh",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseLoginResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "로그아웃",
        "description": "리프레시 토큰을 블랙리스트에 추가하여 로그아웃을 처리합니다.",
        "operationId": "logout",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LogoutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "로그인",
        "description": "사용자 로그인 후 JWT 토큰을 발급합니다.",
        "operationId": "login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseLoginResponse"
                }
              }
            }
          }
        }
      }
    },
    "/users": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "사용자 목록 조회",
        "description": "같은 학교에 속한 사용자 목록을 조회합니다.",
        "operationId": "getUsers",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListUserResponse"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "사용자 상세 조회",
        "description": "특정 사용자의 상세 정보를 조회합니다. (같은 학교만 가능)",
        "operationId": "getUser",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "조회할 사용자 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseUserResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students": {
      "get": {
        "tags": [
          "Student"
        ],
        "summary": "학생 목록 조회",
        "description": "학생 목록을 조회합니다. 관리자는 자신의 학교 전체 학생을, 일반 선생님은 담당 학생만 조회할 수 있습니다.",
        "operationId": "getStudents",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListStudentResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students/{studentId}": {
      "get": {
        "tags": [
          "Student"
        ],
        "summary": "학생 상세 조회",
        "description": "특정 학생의 상세 정보를 조회합니다. 관리자는 자신의 학교 학생을, 일반 선생님은 담당 학생만 조회할 수 있습니다.",
        "operationId": "getStudent",
        "parameters": [
          {
            "name": "studentId",
            "in": "path",
            "description": "학생 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseStudentResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students/dashboard/sequence-stats/{sessionId}": {
      "get": {
        "tags": [
          "Student"
        ],
        "summary": "세션 시퀀스별 통계 조회",
        "description": "특정 세션의 시퀀스별 정답률 및 통계를 조회합니다. 시도 횟수가 적을수록 정답률이 높습니다.",
        "operationId": "getSessionSequenceStats",
        "parameters": [
          {
            "name": "sessionId",
            "in": "path",
            "description": "세션 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 123
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseSessionSequenceStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students/dashboard/monthly-sessions/{studentId}": {
      "get": {
        "tags": [
          "Student"
        ],
        "summary": "학생 세션 목록 조회",
        "description": "특정 학생의 월별 세션 목록을 조회합니다. 카테고리 및 세션 상태로 필터링이 가능합니다.",
        "operationId": "getStudentSessions",
        "parameters": [
          {
            "name": "studentId",
            "in": "path",
            "description": "학생 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          },
          {
            "name": "year",
            "in": "query",
            "description": "조회 년도",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "example": 2025
          },
          {
            "name": "month",
            "in": "query",
            "description": "조회 월 (1-12)",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "example": 1
          },
          {
            "name": "categoryId",
            "in": "query",
            "description": "카테고리 필터 (선택 사항)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          },
          {
            "name": "status",
            "in": "query",
            "description": "세션 상태 필터 (선택 사항, IN_PROGRESS/COMPLETED/ABORTED)",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "IN_PROGRESS",
                "COMPLETED",
                "ABORTED"
              ]
            },
            "example": "COMPLETED"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseStudentSessionsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students/dashboard/category-stats/{studentId}": {
      "get": {
        "tags": [
          "Student"
        ],
        "summary": "학생 대시보드 통계 조회",
        "description": "특정 학생의 월별 카테고리별 세션 통계를 조회합니다. (도넛 그래프용)",
        "operationId": "getStudentDashboardStats",
        "parameters": [
          {
            "name": "studentId",
            "in": "path",
            "description": "학생 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          },
          {
            "name": "year",
            "in": "query",
            "description": "조회 년도",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "example": 2025
          },
          {
            "name": "month",
            "in": "query",
            "description": "조회 월 (1-12)",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseStudentDashboardStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students/calendar/monthly": {
      "get": {
        "tags": [
          "Student"
        ],
        "summary": "월별 달력 데이터 조회",
        "description": "담당 학생들의 월별 일자별 세션 수 통계를 조회합니다. (Redis 캐시 적용)",
        "operationId": "getMonthlyCalendar",
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "description": "조회 년도",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "example": 2025
          },
          {
            "name": "month",
            "in": "query",
            "description": "조회 월 (1-12)",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseCalendarMonthlyResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students/calendar/daily-sessions": {
      "get": {
        "tags": [
          "Student"
        ],
        "summary": "특정 날짜의 학생 세션 목록 조회",
        "description": "특정 날짜에 특정 학생이 수행한 세션 목록을 조회합니다.",
        "operationId": "getDailySessions",
        "parameters": [
          {
            "name": "studentId",
            "in": "query",
            "description": "학생 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          },
          {
            "name": "date",
            "in": "query",
            "description": "조회 날짜 (yyyy-MM-dd)",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "example": "2025-01-15"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDailySessionListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenarios": {
      "get": {
        "tags": [
          "Scenario"
        ],
        "summary": "시나리오 목록 조회",
        "description": "시나리오 목록을 조회합니다. 카테고리로 필터링할 수 있습니다. 썸네일 URL을 포함합니다.",
        "operationId": "getAllScenarios",
        "parameters": [
          {
            "name": "categoryId",
            "in": "query",
            "description": "카테고리 ID (선택)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListScenarioResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenarios/{scenarioId}": {
      "get": {
        "tags": [
          "Scenario"
        ],
        "summary": "시나리오 상세 조회",
        "description": "시나리오의 상세 정보를 조회합니다. 백그라운드 이미지 URL을 포함합니다.",
        "operationId": "getScenarioById",
        "parameters": [
          {
            "name": "scenarioId",
            "in": "path",
            "description": "시나리오 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseScenarioResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenarios/{scenarioId}/sequences/{sequenceNumber}": {
      "get": {
        "tags": [
          "Scenario"
        ],
        "summary": "특정 시퀀스 조회",
        "description": "특정 시퀀스 번호의 시퀀스를 조회합니다. (옵션 제외, 다음 시퀀스 존재 여부 포함)",
        "operationId": "getSequence",
        "parameters": [
          {
            "name": "scenarioId",
            "in": "path",
            "description": "시나리오 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          },
          {
            "name": "sequenceNumber",
            "in": "path",
            "description": "시퀀스 번호 (1부터 시작)",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseSequenceResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenarios/{scenarioId}/sequences/{sequenceNumber}/options": {
      "get": {
        "tags": [
          "Scenario"
        ],
        "summary": "특정 시퀀스의 옵션 조회",
        "description": "특정 시퀀스의 옵션을 난이도에 따라 조회합니다. EASY는 이미지 URL 포함, NORMAL/HARD는 텍스트만 포함합니다.",
        "operationId": "getSequenceOptions",
        "parameters": [
          {
            "name": "scenarioId",
            "in": "path",
            "description": "시나리오 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          },
          {
            "name": "sequenceNumber",
            "in": "path",
            "description": "시퀀스 번호 (1부터 시작)",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "example": 1
          },
          {
            "name": "difficulty",
            "in": "query",
            "description": "난이도 (EASY: 하, NORMAL: 중, HARD: 상)",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "EASY",
                "NORMAL",
                "HARD"
              ]
            },
            "example": "EASY"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListObject"
                }
              }
            }
          }
        }
      }
    },
    "/scenarios/{scenarioId}/all": {
      "get": {
        "tags": [
          "Scenario"
        ],
        "summary": "시나리오 전체 조회 (일괄)",
        "description": "시나리오의 모든 시퀀스와 옵션을 한번에 조회합니다. 개별 API 호출 방식 대비 성능 비교용입니다.",
        "operationId": "getAllSequencesWithOptions",
        "parameters": [
          {
            "name": "scenarioId",
            "in": "path",
            "description": "시나리오 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListSequenceWithOptionsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scenario-sessions/{sessionId}/sequences/{sequenceNumber}/audio-answers": {
      "get": {
        "tags": [
          "ScenarioSession"
        ],
        "summary": "오디오 답변 목록 조회",
        "description": "특정 세션의 특정 시퀀스에 대한 모든 오디오 답변 URL을 조회합니다.",
        "operationId": "getAudioAnswers",
        "parameters": [
          {
            "name": "sessionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "sequenceNumber",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseAudioAnswerListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/categories": {
      "get": {
        "tags": [
          "Category"
        ],
        "summary": "카테고리 목록 조회",
        "description": "모든 카테고리 목록을 조회합니다.",
        "operationId": "getAllCategories",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListCategoryResponse"
                }
              }
            }
          }
        }
      }
    },
    "/users/withdraw": {
      "delete": {
        "tags": [
          "User"
        ],
        "summary": "회원 탈퇴",
        "description": "본인의 계정을 탈퇴합니다. (Soft Delete) 액세스 토큰과 리프레시 토큰이 모두 블랙리스트에 등록됩니다.",
        "operationId": "withdrawUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WithdrawRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/users/delete/{userId}": {
      "delete": {
        "tags": [
          "User"
        ],
        "summary": "사용자 삭제 (관리자)",
        "description": "관리자가 특정 사용자를 삭제합니다. (Soft Delete)",
        "operationId": "deleteUserByAdmin",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "삭제할 사용자 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/students/delete/{studentId}": {
      "delete": {
        "tags": [
          "Student"
        ],
        "summary": "학생 삭제",
        "description": "학생을 삭제합니다. (Soft Delete) 관리자는 자신의 학교 학생을, 일반 선생님은 담당 학생만 삭제할 수 있습니다.",
        "operationId": "deleteStudent",
        "parameters": [
          {
            "name": "studentId",
            "in": "path",
            "description": "학생 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/scenarios/{scenarioId}/delete": {
      "delete": {
        "tags": [
          "Scenario"
        ],
        "summary": "시나리오 삭제",
        "description": "관리자가 특정 시나리오를 삭제합니다. (Soft Delete)",
        "operationId": "deleteScenario",
        "parameters": [
          {
            "name": "scenarioId",
            "in": "path",
            "description": "시나리오 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "UserUpdateRequest": {
        "type": "object",
        "description": "회원 정보 수정 요청",
        "properties": {
          "name": {
            "type": "string",
            "description": "이름",
            "example": "홍길동",
            "maxLength": 50,
            "minLength": 0
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "이메일",
            "example": "teacher@school.com",
            "maxLength": 200,
            "minLength": 0
          },
          "newPassword": {
            "type": "string",
            "description": "새 비밀번호 (선택, 변경하지 않으려면 null)",
            "example": "newPassword123!",
            "maxLength": 64,
            "minLength": 8
          }
        },
        "required": [
          "email",
          "name"
        ]
      },
      "ApiResponseUserUpdateResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/UserUpdateResponse"
          }
        }
      },
      "UserUpdateResponse": {
        "type": "object",
        "description": "회원 정보 수정 응답",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int64",
            "description": "사용자 ID",
            "example": 1
          },
          "username": {
            "type": "string",
            "description": "사용자명",
            "example": "teacher01"
          },
          "name": {
            "type": "string",
            "description": "이름",
            "example": "홍길동"
          },
          "email": {
            "type": "string",
            "description": "이메일",
            "example": "teacher@school.com"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "수정일시",
            "example": "2024-01-15T10:30:00"
          }
        }
      },
      "StudentUpdateRequest": {
        "type": "object",
        "description": "학생 수정 요청",
        "properties": {
          "name": {
            "type": "string",
            "description": "학생 이름 (선택)",
            "example": "김학생",
            "maxLength": 50,
            "minLength": 0
          },
          "userId": {
            "type": "integer",
            "format": "int64",
            "description": "담당 선생님 ID (선택, 변경하지 않으려면 null)",
            "example": 2
          }
        }
      },
      "ApiResponseStudentResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/StudentResponse"
          }
        }
      },
      "StudentResponse": {
        "type": "object",
        "description": "학생 응답",
        "properties": {
          "studentId": {
            "type": "integer",
            "format": "int64",
            "description": "학생 ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "학생 이름",
            "example": "김학생"
          },
          "userId": {
            "type": "integer",
            "format": "int64",
            "description": "담당 선생님 ID",
            "example": 1
          },
          "userName": {
            "type": "string",
            "description": "담당 선생님 이름",
            "example": "홍길동"
          },
          "schoolName": {
            "type": "string",
            "description": "학교 이름",
            "example": "서울초등학교"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "생성일시",
            "example": "2024-01-15T10:30:00"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "수정일시",
            "example": "2024-01-15T10:30:00"
          }
        }
      },
      "OptionUpdateRequest": {
        "type": "object",
        "description": "옵션 수정 요청",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "옵션 ID (null인 경우 신규 생성)",
            "example": 1
          },
          "optionNo": {
            "type": "integer",
            "format": "int32",
            "description": "옵션 번호",
            "example": 1
          },
          "optionText": {
            "type": "string",
            "description": "옵션 텍스트",
            "example": "빵",
            "minLength": 1
          },
          "optionS3Key": {
            "type": "string",
            "description": "옵션 이미지 S3 키",
            "example": "scenarios/options/uuid_image.jpg",
            "minLength": 1
          },
          "isAnswer": {
            "type": "boolean",
            "description": "정답 여부",
            "example": true
          }
        },
        "required": [
          "isAnswer",
          "optionNo",
          "optionS3Key",
          "optionText"
        ]
      },
      "ScenarioUpdateRequest": {
        "type": "object",
        "description": "시나리오 수정 요청",
        "properties": {
          "title": {
            "type": "string",
            "description": "시나리오 제목",
            "example": "편의점에서 물건 사기",
            "maxLength": 100,
            "minLength": 0
          },
          "summary": {
            "type": "string",
            "description": "시나리오 설명",
            "example": "편의점에서 간단한 물건을 구매하는 상황입니다",
            "minLength": 1
          },
          "categoryId": {
            "type": "integer",
            "format": "int64",
            "description": "카테고리 ID",
            "example": 1
          },
          "thumbnailS3Key": {
            "type": "string",
            "description": "썸네일 S3 키 (변경하지 않으려면 null)",
            "example": "scenarios/thumbnails/uuid_image.jpg"
          },
          "backgroundS3Key": {
            "type": "string",
            "description": "배경 이미지 S3 키 (변경하지 않으려면 null)",
            "example": "scenarios/backgrounds/uuid_image.jpg"
          },
          "sequences": {
            "type": "array",
            "description": "시퀀스(질문) 목록",
            "items": {
              "$ref": "#/components/schemas/SequenceUpdateRequest"
            },
            "maxItems": 2147483647,
            "minItems": 1
          }
        },
        "required": [
          "categoryId",
          "sequences",
          "summary",
          "title"
        ]
      },
      "SequenceUpdateRequest": {
        "type": "object",
        "description": "시퀀스 수정 요청",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "시퀀스 ID (null인 경우 신규 생성)",
            "example": 1
          },
          "seqNo": {
            "type": "integer",
            "format": "int32",
            "description": "시퀀스 번호 (1부터 시작)",
            "example": 1
          },
          "question": {
            "type": "string",
            "description": "질문",
            "example": "편의점에서 빵을 사려면 뭐라고 말해야 할까요?",
            "minLength": 1
          },
          "options": {
            "type": "array",
            "description": "옵션 목록",
            "items": {
              "$ref": "#/components/schemas/OptionUpdateRequest"
            },
            "maxItems": 2147483647,
            "minItems": 1
          }
        },
        "required": [
          "options",
          "question",
          "seqNo"
        ]
      },
      "ApiResponseScenarioUpdateResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/ScenarioUpdateResponse"
          }
        }
      },
      "ScenarioUpdateResponse": {
        "type": "object",
        "description": "시나리오 수정 응답",
        "properties": {
          "scenarioId": {
            "type": "integer",
            "format": "int64",
            "description": "시나리오 ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "시나리오 제목",
            "example": "편의점에서 물건 사기"
          },
          "summary": {
            "type": "string",
            "description": "시나리오 설명",
            "example": "편의점에서 간단한 물건을 구매하는 상황입니다"
          },
          "categoryId": {
            "type": "integer",
            "format": "int64",
            "description": "카테고리 ID",
            "example": 1
          },
          "thumbnailUrl": {
            "type": "string",
            "description": "썸네일 URL",
            "example": "https://s3.amazonaws.com/..."
          },
          "backgroundUrl": {
            "type": "string",
            "description": "배경 이미지 URL",
            "example": "https://s3.amazonaws.com/..."
          },
          "totalSequences": {
            "type": "integer",
            "format": "int32",
            "description": "총 시퀀스 개수",
            "example": 5
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "수정일시",
            "example": "2024-01-15T10:30:00"
          }
        }
      },
      "StudentCreateRequest": {
        "type": "object",
        "description": "학생 추가 요청",
        "properties": {
          "name": {
            "type": "string",
            "description": "학생 이름",
            "example": "김학생",
            "maxLength": 50,
            "minLength": 0
          }
        },
        "required": [
          "name"
        ]
      },
      "ImageUploadUrlRequest": {
        "type": "object",
        "description": "이미지 업로드용 Presigned URL 요청",
        "properties": {
          "imageType": {
            "type": "string",
            "description": "이미지 타입 (THUMBNAIL: 썸네일, BACKGROUND: 배경, OPTION: 옵션)",
            "enum": [
              "THUMBNAIL",
              "BACKGROUND",
              "OPTION"
            ],
            "example": "THUMBNAIL"
          },
          "contentType": {
            "type": "string",
            "description": "파일 Content-Type",
            "example": "image/jpeg",
            "minLength": 1
          }
        },
        "required": [
          "contentType",
          "imageType"
        ]
      },
      "ApiResponseImageUploadUrlResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/ImageUploadUrlResponse"
          }
        }
      },
      "ImageUploadUrlResponse": {
        "type": "object",
        "description": "이미지 업로드용 Presigned URL 응답",
        "properties": {
          "presignedUrl": {
            "type": "string",
            "description": "업로드용 Presigned URL",
            "example": "https://..."
          },
          "s3Key": {
            "type": "string",
            "description": "S3 키 (시나리오 생성 시 전달해야 함)",
            "example": "scenarios/options/uuid_image.jpg"
          }
        }
      },
      "OptionCreateRequest": {
        "type": "object",
        "description": "옵션 생성 요청",
        "properties": {
          "optionNo": {
            "type": "integer",
            "format": "int32",
            "description": "옵션 번호 (1부터 시작)",
            "example": 1,
            "minimum": 1
          },
          "optionText": {
            "type": "string",
            "description": "옵션 텍스트",
            "example": "안녕하세요",
            "minLength": 1
          },
          "optionS3Key": {
            "type": "string",
            "description": "옵션 이미지 S3 키",
            "example": "scenarios/options/uuid_image.jpg",
            "minLength": 1
          },
          "isAnswer": {
            "type": "boolean",
            "description": "정답 여부",
            "example": true
          }
        },
        "required": [
          "isAnswer",
          "optionNo",
          "optionS3Key",
          "optionText"
        ]
      },
      "ScenarioCreateRequest": {
        "type": "object",
        "description": "시나리오 생성 요청",
        "properties": {
          "title": {
            "type": "string",
            "description": "시나리오 제목",
            "example": "편의점에서 물건 사기",
            "maxLength": 100,
            "minLength": 0
          },
          "summary": {
            "type": "string",
            "description": "시나리오 설명",
            "example": "편의점에서 간단한 물건을 구매하는 상황입니다",
            "minLength": 1
          },
          "categoryId": {
            "type": "integer",
            "format": "int64",
            "description": "카테고리 ID",
            "example": 1
          },
          "thumbnailS3Key": {
            "type": "string",
            "description": "썸네일 S3 키 (선택)",
            "example": "scenarios/thumbnails/uuid_image.jpg"
          },
          "backgroundS3Key": {
            "type": "string",
            "description": "배경 이미지 S3 키 (선택)",
            "example": "scenarios/backgrounds/uuid_image.jpg"
          },
          "sequences": {
            "type": "array",
            "description": "시퀀스(질문) 목록",
            "items": {
              "$ref": "#/components/schemas/SequenceCreateRequest"
            },
            "maxItems": 2147483647,
            "minItems": 1
          }
        },
        "required": [
          "categoryId",
          "sequences",
          "summary",
          "title"
        ]
      },
      "SequenceCreateRequest": {
        "type": "object",
        "description": "시퀀스 생성 요청",
        "properties": {
          "seqNo": {
            "type": "integer",
            "format": "int32",
            "description": "시퀀스 번호 (1부터 시작)",
            "example": 1,
            "minimum": 1
          },
          "question": {
            "type": "string",
            "description": "질문 내용",
            "example": "점원에게 어떻게 인사하시겠습니까?",
            "minLength": 1
          },
          "options": {
            "type": "array",
            "description": "옵션 목록",
            "items": {
              "$ref": "#/components/schemas/OptionCreateRequest"
            },
            "maxItems": 2147483647,
            "minItems": 2
          }
        },
        "required": [
          "options",
          "question",
          "seqNo"
        ]
      },
      "ApiResponseScenarioCreateResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/ScenarioCreateResponse"
          }
        }
      },
      "OptionCreateResponse": {
        "type": "object",
        "description": "옵션 생성 응답",
        "properties": {
          "optionId": {
            "type": "integer",
            "format": "int64",
            "description": "옵션 ID",
            "example": 1
          },
          "optionNumber": {
            "type": "integer",
            "format": "int32",
            "description": "옵션 번호",
            "example": 1
          },
          "optionText": {
            "type": "string",
            "description": "옵션 텍스트",
            "example": "안녕하세요"
          },
          "optionImageUrl": {
            "type": "string",
            "description": "옵션 이미지 URL (이미지가 없으면 null)"
          },
          "answer": {
            "type": "boolean"
          }
        }
      },
      "ScenarioCreateResponse": {
        "type": "object",
        "description": "시나리오 생성 응답",
        "properties": {
          "scenarioId": {
            "type": "integer",
            "format": "int64",
            "description": "시나리오 ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "시나리오 제목",
            "example": "편의점에서 물건 사기"
          },
          "summary": {
            "type": "string",
            "description": "시나리오 설명",
            "example": "편의점에서 간단한 물건을 구매하는 상황입니다"
          },
          "categoryId": {
            "type": "integer",
            "format": "int64",
            "description": "카테고리 ID",
            "example": 1
          },
          "categoryName": {
            "type": "string",
            "description": "카테고리 이름",
            "example": "쇼핑"
          },
          "thumbnailUrl": {
            "type": "string",
            "description": "썸네일 이미지 URL"
          },
          "backgroundUrl": {
            "type": "string",
            "description": "배경 이미지 URL"
          },
          "totalSequences": {
            "type": "integer",
            "format": "int32",
            "description": "총 시퀀스 개수",
            "example": 5
          },
          "sequences": {
            "type": "array",
            "description": "시퀀스 목록",
            "items": {
              "$ref": "#/components/schemas/SequenceCreateResponse"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "생성 일시"
          }
        }
      },
      "SequenceCreateResponse": {
        "type": "object",
        "description": "시퀀스 생성 응답",
        "properties": {
          "sequenceId": {
            "type": "integer",
            "format": "int64",
            "description": "시퀀스 ID",
            "example": 1
          },
          "sequenceNumber": {
            "type": "integer",
            "format": "int32",
            "description": "시퀀스 번호",
            "example": 1
          },
          "question": {
            "type": "string",
            "description": "질문 내용",
            "example": "점원에게 어떻게 인사하시겠습니까?"
          },
          "options": {
            "type": "array",
            "description": "옵션 목록",
            "items": {
              "$ref": "#/components/schemas/OptionCreateResponse"
            }
          }
        }
      },
      "AnswerSubmitRequest": {
        "type": "object",
        "description": "답안 제출 요청",
        "properties": {
          "sessionId": {
            "type": "integer",
            "format": "int64",
            "description": "세션 ID",
            "example": 1
          },
          "scenarioId": {
            "type": "integer",
            "format": "int64",
            "description": "시나리오 ID",
            "example": 1
          },
          "sequenceNumber": {
            "type": "integer",
            "format": "int32",
            "description": "시퀀스 번호 (1부터 시작)",
            "example": 1
          },
          "selectedOptionId": {
            "type": "integer",
            "format": "int64",
            "description": "선택한 옵션 ID",
            "example": 3
          }
        },
        "required": [
          "scenarioId",
          "selectedOptionId",
          "sequenceNumber",
          "sessionId"
        ]
      },
      "AnswerCheckResponse": {
        "type": "object",
        "description": "답안 검증 응답",
        "properties": {
          "scenarioId": {
            "type": "integer",
            "format": "int64",
            "description": "시나리오 ID",
            "example": 1
          },
          "sequenceId": {
            "type": "integer",
            "format": "int64",
            "description": "시퀀스 ID",
            "example": 1
          },
          "sequenceNumber": {
            "type": "integer",
            "format": "int32",
            "description": "시퀀스 번호",
            "example": 1
          },
          "submittedOptionId": {
            "type": "integer",
            "format": "int64",
            "description": "제출한 옵션 ID",
            "example": 3
          },
          "attemptNo": {
            "type": "integer",
            "format": "int32",
            "description": "시도 횟수",
            "example": 2
          },
          "correct": {
            "type": "boolean"
          }
        }
      },
      "ApiResponseAnswerCheckResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/AnswerCheckResponse"
          }
        }
      },
      "SessionStartRequest": {
        "type": "object",
        "description": "세션 시작 요청",
        "properties": {
          "studentId": {
            "type": "integer",
            "format": "int64",
            "description": "학생 ID",
            "example": 1
          },
          "scenarioId": {
            "type": "integer",
            "format": "int64",
            "description": "시나리오 ID",
            "example": 1
          }
        },
        "required": [
          "scenarioId",
          "studentId"
        ]
      },
      "ApiResponseSessionStartResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/SessionStartResponse"
          }
        }
      },
      "SessionStartResponse": {
        "type": "object",
        "description": "세션 시작 응답",
        "properties": {
          "sessionId": {
            "type": "integer",
            "format": "int64",
            "description": "세션 ID",
            "example": 1
          },
          "studentId": {
            "type": "integer",
            "format": "int64",
            "description": "학생 ID",
            "example": 1
          },
          "scenarioId": {
            "type": "integer",
            "format": "int64",
            "description": "시나리오 ID",
            "example": 1
          },
          "sessionStatus": {
            "type": "string",
            "description": "세션 상태",
            "enum": [
              "IN_PROGRESS",
              "COMPLETED",
              "ABORTED"
            ],
            "example": "IN_PROGRESS"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "세션 생성 시간",
            "example": "2025-01-15T10:30:00"
          }
        }
      },
      "SessionCompleteRequest": {
        "type": "object",
        "description": "세션 완료 요청",
        "properties": {
          "sessionId": {
            "type": "integer",
            "format": "int64",
            "description": "완료할 세션 ID",
            "example": 1
          }
        },
        "required": [
          "sessionId"
        ]
      },
      "ApiResponseSessionCompleteResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/SessionCompleteResponse"
          }
        }
      },
      "SessionCompleteResponse": {
        "type": "object",
        "description": "세션 완료 응답",
        "properties": {
          "sessionId": {
            "type": "integer",
            "format": "int64",
            "description": "세션 ID",
            "example": 1
          },
          "studentId": {
            "type": "integer",
            "format": "int64",
            "description": "학생 ID",
            "example": 1
          },
          "scenarioId": {
            "type": "integer",
            "format": "int64",
            "description": "시나리오 ID",
            "example": 1
          },
          "sessionStatus": {
            "type": "string",
            "description": "세션 상태",
            "enum": [
              "IN_PROGRESS",
              "COMPLETED",
              "ABORTED"
            ],
            "example": "COMPLETED"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "세션 생성 시간",
            "example": "2025-01-15T10:30:00"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "description": "세션 완료 시간",
            "example": "2025-01-15T10:45:00"
          }
        }
      },
      "AudioUrlByKeyRequest": {
        "type": "object",
        "description": "S3 Key로 오디오 조회용 URL 생성 요청 (FastAPI STT 분석용)",
        "properties": {
          "s3Key": {
            "type": "string",
            "description": "S3에 업로드된 오디오 파일 키",
            "example": "students/123/sessions/456/seq_1_attempt_1.wav",
            "minLength": 1
          }
        },
        "required": [
          "s3Key"
        ]
      },
      "ApiResponseAudioUrlByKeyResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/AudioUrlByKeyResponse"
          }
        }
      },
      "AudioUrlByKeyResponse": {
        "type": "object",
        "description": "오디오 조회용 Pre-signed URL 응답",
        "properties": {
          "s3Key": {
            "type": "string",
            "description": "S3 파일 키",
            "example": "students/123/sessions/456/seq_1_attempt_1.wav"
          },
          "audioUrl": {
            "type": "string",
            "description": "오디오 파일 조회용 Pre-signed URL",
            "example": "https://s3.amazonaws.com/bucket/students/123/sessions/456/seq_1_attempt_1.wav?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-..."
          }
        }
      },
      "AudioUploadUrlRequest": {
        "type": "object",
        "description": "음성 업로드 URL 요청",
        "properties": {
          "sessionId": {
            "type": "integer",
            "format": "int64",
            "description": "세션 ID",
            "example": 1
          },
          "sequenceNumber": {
            "type": "integer",
            "format": "int32",
            "description": "시퀀스 번호 (1부터 시작)",
            "example": 1
          },
          "contentType": {
            "type": "string",
            "description": "업로드하는 파일 타입",
            "example": "audio/wav",
            "minLength": 1
          }
        },
        "required": [
          "contentType",
          "sequenceNumber",
          "sessionId"
        ]
      },
      "ApiResponseAudioUploadUrlResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/AudioUploadUrlResponse"
          }
        }
      },
      "AudioUploadUrlResponse": {
        "type": "object",
        "description": "음성 업로드 URL 응답",
        "properties": {
          "presignedUrl": {
            "type": "string",
            "description": "업로드용 Presigned URL",
            "example": "https://ssafy-sai-project.s3.amazonaws.com/students/1/sessions/1/seq_1_attempt_1.wav?X-Amz-Algorithm=..."
          },
          "s3Key": {
            "type": "string",
            "description": "S3 키 (음성 답안 제출 시 전달해야 함)",
            "example": "students/1/sessions/1/seq_1_attempt_1.wav"
          }
        }
      },
      "SignupRequest": {
        "type": "object",
        "description": "회원가입 요청 정보",
        "properties": {
          "schoolId": {
            "type": "integer",
            "format": "int64",
            "description": "학교 ID",
            "example": 1
          },
          "username": {
            "type": "string",
            "description": "사용자 ID",
            "example": "teacher01",
            "maxLength": 50,
            "minLength": 3
          },
          "password": {
            "type": "string",
            "description": "비밀번호",
            "example": "password123!",
            "maxLength": 64,
            "minLength": 8
          },
          "name": {
            "type": "string",
            "description": "이름",
            "example": "홍길동",
            "maxLength": 50,
            "minLength": 0
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "이메일",
            "example": "teacher@school.com",
            "maxLength": 200,
            "minLength": 0
          }
        },
        "required": [
          "email",
          "name",
          "password",
          "username"
        ]
      },
      "ApiResponseSignupResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/SignupResponse"
          }
        }
      },
      "SignupResponse": {
        "type": "object",
        "description": "회원가입 성공 응답 정보",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int64",
            "description": "사용자 ID",
            "example": 1
          },
          "username": {
            "type": "string",
            "description": "사용자명",
            "example": "teacher01"
          },
          "name": {
            "type": "string",
            "description": "이름",
            "example": "홍길동"
          }
        }
      },
      "RefreshTokenRequest": {
        "type": "object",
        "description": "토큰 갱신 요청 정보",
        "properties": {
          "refreshToken": {
            "type": "string",
            "description": "리프레시 토큰",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
            "minLength": 1
          }
        },
        "required": [
          "refreshToken"
        ]
      },
      "ApiResponseLoginResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/LoginResponse"
          }
        }
      },
      "LoginResponse": {
        "type": "object",
        "description": "로그인 성공 응답 정보",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int64",
            "description": "사용자 ID",
            "example": 1
          },
          "username": {
            "type": "string",
            "description": "사용자명",
            "example": "user123"
          },
          "name": {
            "type": "string",
            "description": "사용자 이름",
            "example": "홍길동"
          },
          "role": {
            "type": "string",
            "description": "사용자 역할",
            "example": "ADMIN"
          },
          "accessToken": {
            "type": "string",
            "description": "액세스 토큰",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "refreshToken": {
            "type": "string",
            "description": "리프레시 토큰",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        }
      },
      "LogoutRequest": {
        "type": "object",
        "properties": {
          "refreshToken": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "refreshToken"
        ]
      },
      "ApiResponseVoid": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {

          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "description": "로그인 요청 정보",
        "properties": {
          "username": {
            "type": "string",
            "description": "사용자 ID",
            "example": "admin",
            "maxLength": 50,
            "minLength": 3
          },
          "password": {
            "type": "string",
            "description": "비밀번호",
            "example": "password123",
            "maxLength": 64,
            "minLength": 8
          }
        },
        "required": [
          "password",
          "username"
        ]
      },
      "ApiResponseListUserResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserResponse"
            }
          }
        }
      },
      "UserResponse": {
        "type": "object",
        "description": "사용자 응답",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int64",
            "description": "사용자 ID",
            "example": 1
          },
          "username": {
            "type": "string",
            "description": "사용자명",
            "example": "teacher01"
          },
          "name": {
            "type": "string",
            "description": "이름",
            "example": "홍길동"
          },
          "email": {
            "type": "string",
            "description": "이메일",
            "example": "teacher@school.com"
          },
          "role": {
            "type": "string",
            "description": "역할",
            "enum": [
              "USER",
              "ADMIN"
            ],
            "example": "USER"
          },
          "schoolId": {
            "type": "integer",
            "format": "int64",
            "description": "학교 ID",
            "example": 1
          },
          "schoolName": {
            "type": "string",
            "description": "학교 이름",
            "example": "서울초등학교"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "생성일시",
            "example": "2024-01-15T10:30:00"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "수정일시",
            "example": "2024-01-15T10:30:00"
          }
        }
      },
      "ApiResponseUserResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/UserResponse"
          }
        }
      },
      "ApiResponseListStudentResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StudentResponse"
            }
          }
        }
      },
      "ApiResponseSessionSequenceStatsResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/SessionSequenceStatsResponse"
          }
        }
      },
      "SequenceStatsDto": {
        "type": "object",
        "properties": {
          "sequenceId": {
            "type": "integer",
            "format": "int64"
          },
          "sequenceNumber": {
            "type": "integer",
            "format": "int32"
          },
          "question": {
            "type": "string"
          },
          "successAttempt": {
            "type": "integer",
            "format": "int32"
          },
          "accuracyRate": {
            "type": "number",
            "format": "double"
          },
          "isCorrect": {
            "type": "boolean"
          }
        }
      },
      "SessionSequenceStatsResponse": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "integer",
            "format": "int64"
          },
          "scenarioTitle": {
            "type": "string"
          },
          "sequenceStats": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SequenceStatsDto"
            }
          },
          "totalSequences": {
            "type": "integer",
            "format": "int32"
          },
          "completedSequences": {
            "type": "integer",
            "format": "int32"
          },
          "averageAccuracy": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "ApiResponseStudentSessionsResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/StudentSessionsResponse"
          }
        }
      },
      "SessionListItemDto": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "integer",
            "format": "int64"
          },
          "scenarioId": {
            "type": "integer",
            "format": "int64"
          },
          "scenarioTitle": {
            "type": "string"
          },
          "thumbnailUrl": {
            "type": "string"
          },
          "categoryId": {
            "type": "integer",
            "format": "int64"
          },
          "categoryName": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "IN_PROGRESS",
              "COMPLETED",
              "ABORTED"
            ]
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "StudentSessionsResponse": {
        "type": "object",
        "properties": {
          "sessions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SessionListItemDto"
            }
          },
          "totalCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ApiResponseStudentDashboardStatsResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/StudentDashboardStatsResponse"
          }
        }
      },
      "CategoryStatsDto": {
        "type": "object",
        "properties": {
          "categoryId": {
            "type": "integer",
            "format": "int64"
          },
          "categoryName": {
            "type": "string"
          },
          "sessionCount": {
            "type": "integer",
            "format": "int32"
          },
          "percentage": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "StudentDashboardStatsResponse": {
        "type": "object",
        "properties": {
          "categoryStats": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CategoryStatsDto"
            }
          },
          "totalSessions": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ApiResponseCalendarMonthlyResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/CalendarMonthlyResponse"
          }
        }
      },
      "CalendarDayStatsDto": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "studentSessions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StudentSessionCountDto"
            }
          },
          "totalSessionCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "CalendarMonthlyResponse": {
        "type": "object",
        "properties": {
          "year": {
            "type": "integer",
            "format": "int32"
          },
          "month": {
            "type": "integer",
            "format": "int32"
          },
          "dailyStats": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CalendarDayStatsDto"
            }
          },
          "totalDays": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "StudentSessionCountDto": {
        "type": "object",
        "properties": {
          "studentId": {
            "type": "integer",
            "format": "int64"
          },
          "studentName": {
            "type": "string"
          },
          "sessionCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ApiResponseDailySessionListResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/DailySessionListResponse"
          }
        }
      },
      "DailySessionListResponse": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "studentId": {
            "type": "integer",
            "format": "int64"
          },
          "studentName": {
            "type": "string"
          },
          "sessions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SessionListItemDto"
            }
          },
          "totalCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ApiResponseListScenarioResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScenarioResponse"
            }
          }
        }
      },
      "ScenarioResponse": {
        "type": "object",
        "description": "시나리오 응답",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "시나리오 ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "시나리오 제목",
            "example": "카페 시나리오"
          },
          "summary": {
            "type": "string",
            "description": "시나리오 요약",
            "example": "카페에서 주문하는 상황을 연습합니다"
          },
          "thumbnailUrl": {
            "type": "string",
            "description": "썸네일 이미지 URL",
            "example": "https://s3.amazonaws.com/bucket/thumbnail1.jpg"
          },
          "backgroundUrl": {
            "type": "string",
            "description": "백그라운드 이미지 URL",
            "example": "https://s3.amazonaws.com/bucket/background1.jpg"
          },
          "categoryId": {
            "type": "integer",
            "format": "int64",
            "description": "카테고리 ID",
            "example": 1
          },
          "categoryName": {
            "type": "string",
            "description": "카테고리 이름",
            "example": "주문하기"
          },
          "totalSequences": {
            "type": "integer",
            "format": "int32",
            "description": "총 시퀀스 개수",
            "example": 5
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "생성 일시",
            "example": "2025-01-15T10:30:00"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "수정 일시",
            "example": "2025-01-15T10:30:00"
          }
        }
      },
      "ApiResponseScenarioResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/ScenarioResponse"
          }
        }
      },
      "ApiResponseSequenceResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/SequenceResponse"
          }
        }
      },
      "SequenceResponse": {
        "type": "object",
        "description": "시퀀스 응답 (옵션 제외)",
        "properties": {
          "sequenceId": {
            "type": "integer",
            "format": "int64",
            "description": "시퀀스 ID",
            "example": 1
          },
          "sequenceNumber": {
            "type": "integer",
            "format": "int32",
            "description": "시퀀스 번호 (1부터 시작)",
            "example": 1
          },
          "question": {
            "type": "string",
            "description": "질문 내용",
            "example": "주문 도와드릴까요?"
          },
          "hasNext": {
            "type": "boolean",
            "description": "다음 시퀀스 존재 여부",
            "example": true
          }
        }
      },
      "ApiResponseListObject": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {

            }
          }
        }
      },
      "ApiResponseListSequenceWithOptionsResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SequenceWithOptionsResponse"
            }
          }
        }
      },
      "OptionResponse": {
        "type": "object",
        "description": "시퀀스 선택 옵션",
        "properties": {
          "optionId": {
            "type": "integer",
            "format": "int64",
            "description": "옵션 ID",
            "example": 1
          },
          "optionNumber": {
            "type": "integer",
            "format": "int32",
            "description": "옵션 번호 (1부터 시작)",
            "example": 1
          },
          "optionText": {
            "type": "string",
            "description": "옵션 텍스트",
            "example": "네, 아메리카노 한 잔 주세요"
          },
          "answer": {
            "type": "boolean"
          }
        }
      },
      "SequenceWithOptionsResponse": {
        "type": "object",
        "description": "시퀀스와 옵션 응답",
        "properties": {
          "sequenceId": {
            "type": "integer",
            "format": "int64",
            "description": "시퀀스 ID",
            "example": 1
          },
          "sequenceNumber": {
            "type": "integer",
            "format": "int32",
            "description": "시퀀스 번호 (1부터 시작)",
            "example": 1
          },
          "question": {
            "type": "string",
            "description": "질문 내용",
            "example": "주문 도와드릴까요?"
          },
          "options": {
            "type": "array",
            "description": "선택 옵션 목록",
            "items": {
              "$ref": "#/components/schemas/OptionResponse"
            }
          }
        }
      },
      "ApiResponseAudioAnswerListResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/AudioAnswerListResponse"
          }
        }
      },
      "AudioAnswerDto": {
        "type": "object",
        "properties": {
          "answerId": {
            "type": "integer",
            "format": "int64"
          },
          "attemptNo": {
            "type": "integer",
            "format": "int32"
          },
          "audioUrl": {
            "type": "string"
          },
          "isCorrect": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "AudioAnswerListResponse": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "integer",
            "format": "int64"
          },
          "sequenceId": {
            "type": "integer",
            "format": "int64"
          },
          "sequenceNumber": {
            "type": "integer",
            "format": "int32"
          },
          "totalAttempts": {
            "type": "integer",
            "format": "int32"
          },
          "audioAnswers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AudioAnswerDto"
            }
          }
        }
      },
      "ApiResponseListCategoryResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "ERROR"
            ]
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CategoryResponse"
            }
          }
        }
      },
      "CategoryResponse": {
        "type": "object",
        "description": "카테고리 응답",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "카테고리 ID",
            "example": 1
          },
          "categoryName": {
            "type": "string",
            "description": "카테고리 이름",
            "example": "일상생활"
          }
        }
      },
      "WithdrawRequest": {
        "type": "object",
        "description": "회원 탈퇴 요청",
        "properties": {
          "refreshToken": {
            "type": "string",
            "description": "리프레시 토큰",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
            "minLength": 1
          }
        },
        "required": [
          "refreshToken"
        ]
      }
    },
    "securitySchemes": {
      "Bearer Authentication": {
        "type": "http",
        "name": "Authorization",
        "in": "header",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}